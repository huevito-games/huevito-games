<!DOCTYPE html>
<html>
<head>
  <script>
(()=>{

  const KEY = "TAB_UNICA_JS";

  // 1ï¸âƒ£ Si NO fue abierta por JavaScript, reabrir correctamente
  if (!window.opener && !sessionStorage.getItem("jsOpened")) {
    sessionStorage.setItem("jsOpened", 1);
    window.open(location.href, "_blank");
    window.close();
    return;
  }

  // 2ï¸âƒ£ Control de pestaÃ±a Ãºnica
  const id = Date.now() + Math.random();

  addEventListener("storage", e => {
    if (e.key === KEY && e.newValue != id) window.close();
  });

  const ping = () => localStorage.setItem(KEY, id);
  ping();
  setInterval(ping, 1000);

})();
</script>
</head>

<body>
  <!-- ðŸ‘‡ AQUÃ TU WEB NORMAL -->
  <h1>Mi web</h1>
</body>
</html>
