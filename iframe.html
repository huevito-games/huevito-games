<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Página contenedora</title>
</head>
<body>

<iframe
  id="miIframe"
  src="https://huevitohosting.wixsite.com/huevito-gamess"
  width="100%"
  height="600"
  style="border:none;"
></iframe>

<script>
const iframe = document.getElementById("miIframe");

iframe.addEventListener("load", () => {
  try {
    // Obtener la URL completa del iframe
    const iframeURL = iframe.contentWindow.location.href;

    // Crear un objeto URL para separar bien la ruta
    const urlObj = new URL(iframeURL);

    // Tomar la última parte de la ruta
    const pathSegments = urlObj.pathname.split("/").filter(Boolean);
    const lastPart = pathSegments.pop(); // solo "juegos" por ejemplo

    if (lastPart) {
      // Construir la nueva URL correcta
      const nuevaURL = urlObj.origin + "/" + lastPart;
      window.location.href = nuevaURL;
    }
  } catch (e) {
    // Abrir una nueva pestaña con el error
    window.open("data:," + "No se puede leer la URL del iframe directamente (cross-origin): ");
  }
});
</script>

</body>
</html>
